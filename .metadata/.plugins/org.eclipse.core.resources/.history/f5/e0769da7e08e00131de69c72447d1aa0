package com.project.utils;

import android.graphics.Bitmap;
import android.graphics.BitmapFactory;



public class ImageTools {

	private final static int MIN_HEIGHT = 1280, MIN_WIDTH = 720;

	public static int calculateInSampleSize(BitmapFactory.Options options) {
		int inSampleSize = 1;

		if (options.outHeight > MIN_HEIGHT || options.outWidth > MIN_WIDTH) {

			while ((options.outHeight / 2 / inSampleSize) > 1280
					&& (options.outWidth / 2 / inSampleSize) > 720) {
				inSampleSize *= 2;
			}
		}

		return inSampleSize;
	}


	public static Bitmap decodeResizedBitmap(byte[] bytes) {
		BitmapFactory.Options options = new BitmapFactory.Options();
		
		options.inJustDecodeBounds = true;
		
		BitmapFactory.decodeByteArray(bytes, 0, bytes.length, options);
		
		options.inSampleSize = calculateInSampleSize(options);
		
		
		options.inMutable = true;
		options.inJustDecodeBounds = false;
		return BitmapFactory.decodeByteArray(bytes, 0, bytes.length, options);
		
	}


}
